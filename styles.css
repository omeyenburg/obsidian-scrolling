/*
 *
 * name: Scrolling
 * id: scrolling
 *
 */

/* Hide specific scrollbars in files */
body.scrolling-visibility-hide *::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar temporarily */
body.scrolling-visibility-scroll *:not(.scrolling-show-temporary)::-webkit-scrollbar:not(:hover),
body.scrolling-visibility-scroll *:not(.scrolling-show-temporary)::-webkit-scrollbar-thumb:not(:hover),
body.scrolling-visibility-scroll *:not(.scrolling-show-temporary)::-webkit-scrollbar-track:not(:hover) {
    background: transparent !important;
}

/* Scrollbar width */
body.scrolling-scrollbar-width *::-webkit-scrollbar {
  width: var(--scrolling-scrollbar-width) !important;
  height: var(--scrolling-scrollbar-width) !important;
}

/* Scrollable code in editing view */
body.scrolling-horizontal-code-blocks .HyperMD-codeblock.HyperMD-codeblock-bg.cm-line:not(.HyperMD-codeblock-begin):not(.HyperMD-codeblock-end) {
    overflow-x: hidden;
    white-space: nowrap;
    position: relative;
    will-change: scroll-position;
    touch-action: pan-y pinch-zoom;
}

body.scrolling-horizontal-code-blocks .HyperMD-codeblock.HyperMD-codeblock-bg.cm-line:not(.HyperMD-codeblock-begin):not(.HyperMD-codeblock-end)::after {
    content: '';
    display: inline-block;
    width: calc(var(--scrolling-extra-line-length) + var(--size-4-4));
    height: 1px;
}

body.scrolling-horizontal-code-blocks .HyperMD-codeblock.HyperMD-codeblock-bg.cm-line::-webkit-scrollbar {
    display: none;
}

body.scrolling-horizontal-code-blocks .HyperMD-codeblock.HyperMD-codeblock-bg.cm-line br {
    height: 0px;
    content: "";
}

body.scrolling-horizontal-code-blocks .HyperMD-codeblock.HyperMD-codeblock-begin.HyperMD-codeblock-begin-bg.HyperMD-codeblock-bg.cm-line {
    padding-bottom: 0.6rem;
}

/* Scrollable code in reading view */
body.scrolling-horizontal-code-blocks .markdown-preview-view pre > code {
    white-space: pre;
    overflow-x: auto;
    display: block;
}

/* Scrollable inline mathjax if it exceeds line */
body.scrolling-horizontal-mathjax span.math {
    overflow: auto;
    max-width: 100%;
    display: inline-block;
    vertical-align: middle;
}

/* Horizontal scrollbar for file tree */
body.scrolling-horizontal-filetree .nav-files-container {
    overflow: auto;
}

body.scrolling-horizontal-filetree .nav-files-container > div {
    min-width: max-content;
    min-height: max-content;
}

body.scrolling-horizontal-filetree .tree-item-self.nav-file-title,
body.scrolling-horizontal-filetree .tree-item-self.nav-folder-title {
    flex-shrink: 0;
}

/* Image zoom */
body.scrolling-image-zoom-enabled img {
    transform-origin: top left;
    vertical-align: bottom;
}

body.scrolling-image-zoom-enabled div.image-embed:has(img),
body.scrolling-image-zoom-enabled span.image-embed:has(img) {
    display: inline-block;
    overflow: hidden;
}

body.scrolling-image-zoom-enabled div.image-container:has(img) {
    display: block;
    overflow: hidden;
}
